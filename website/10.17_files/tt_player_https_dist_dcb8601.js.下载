!function(t){function e(t){var e,o,i,r,n,a,d;for(a=t.length,n=0,d="";a>n;){do e=l[255&t.charCodeAt(n++)];while(a>n&&-1==e);if(-1==e)break;do o=l[255&t.charCodeAt(n++)];while(a>n&&-1==o);if(-1==o)break;d+=String.fromCharCode(e<<2|(48&o)>>4);do{if(i=255&t.charCodeAt(n++),61==i)return d;i=l[i]}while(a>n&&-1==i);if(-1==i)break;d+=String.fromCharCode((15&o)<<4|(60&i)>>2);do{if(r=255&t.charCodeAt(n++),61==r)return d;r=l[r]}while(a>n&&-1==r);if(-1==r)break;d+=String.fromCharCode((3&i)<<6|r)}return d}function o(t,e,o){t.setAttribute("type","text/javascript"),o&&t.setAttribute("charset",o),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)}function i(t){return"[object Function]"==Object.prototype.toString.call(t)}function r(e,r,n){function a(e){return function(){try{e?u.onfailure&&u.onfailure():(r.apply(t,arguments),clearTimeout(l)),t[d]=null,delete t[d]}catch(o){}finally{}}}var d,l,s=document.createElement("SCRIPT"),c="tt__video__",u=n||{},m=u.charset,p="callback",h=u.timeOut||0;i(r)&&(d=c+Math.floor(2147483648*Math.random()).toString(36),t[d]=a(0)),h&&(l=setTimeout(a(1),h)),e+=(e.indexOf("?")<0?"?":"&")+p+"="+d,o(s,e,m)}function n(){var t=document,e="BackCompat"==t.compatMode?t.body:t.documentElement;return e.offsetWidth}function a(){for(var o=document.querySelectorAll(".tt-video-box"),i=0,a=[],l=0;l<o.length;l++){var s=o[l].getAttribute("tt-videoid")||"",c=o[l].getAttribute("tt-poster")||"";if(a.push({box:o[l],id:s,url:c}),null==o[l].getAttribute("tt-datainited")){o[l].setAttribute("tt-datainited",1);var u="//i.snssdk.com/video/urls/1/toutiao/mp4/"+s;r(u,function(o){var r=o.data.status;if(0==o.code&&10==r){var l=o.data.video_list,s=l.video_1,c=s.main_url,u=e(c);u=u.replace(/^https?:\/\//,"//"),n(),i++;for(var m=navigator.userAgent.toLowerCase(),p=(m.match(/msie ([\d.]+)/),0);p<a.length;p++)if(o.data.video_id&&a[p].id==o.data.video_id){var h='<video src="'+u+'" type="video/mp4" controls="" poster="'+a[p].url+'" preload="none" style="width:100%;"></video>';/iphone|ipad/i.test(navigator.userAgent)?(h='<video src="'+u+'" type="video/mp4" controls="" poster="'+a[p].url+'" preload="none" webkit-playsinline playsinline style="width:100%;"></video>',a[p].box.style.cssText+="margin:0 auto;"):/Android/i.test(navigator.userAgent)?(h='<video src="'+u+'" type="video/mp4" controls="" poster="'+a[p].url+'" preload="none" style="width:100%;"></video>',a[p].box.style.cssText+="margin:0 auto;"):(h="true"==a[p].box.getAttribute("tt-autoplay")&&"admin.bytedance.com"==location.hostname?'<video src="'+u+'" type="video/mp4" controls="" poster="'+a[p].url+'" preload="none" autoplay="autoplay" style="width:100%;height:100%;"></video>':'<video src="'+u+'" type="video/mp4" controls="" poster="'+a[p].url+'" preload="none" style="width:100%;height:100%;"></video>',a[p].box.style.cssText+="width:100%;height:100%;margin:0 auto;background-color:#000"),a[p].box.innerHTML=h,t.listener&&listener.trigger("com.toutiao.m.videoContent","video-loaded-successed"),"admin.bytedance.com"!=location.hostname&&d()}}else for(var p=0;p<a.length;p++){if(("admin.bytedance.com"==location.hostname||"mp.toutiao.com"==location.hostname)&&10!=r){var v={20:"转码失败",30:"转码进行中",40:"视频id不存在",0:"unknown",1:"上传中",2:"上传失败",3:"等待上传",101:"视频被屏蔽",102:"视频被删除",103:"视频永久删除"},g="";for(var f in v)f==r&&(g=v[f]);h='<span style="display: inline-block;height: 360px;width: 100%;line-height: 360px;background-color: rgba(0, 0, 0,0.9);color: #fff;">'+o.message+"ï¼š"+g+"</span>"}a[p].box.innerHTML=h,t.listener&&listener.trigger("com.toutiao.m.videoContent","video-loaded-failed"),a[p].box.style.cssText+="margin: 0px auto;height: 100%;width: 100%;text-align: center;","admin.bytedance.com"!=location.hostname&&d()}})}}}function d(){var t=document.createElement("script");t.src="//s0.pstatp.com/tt_player/tt.player.log.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}var l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);a()}(window);