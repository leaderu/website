!function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t){if(!(this instanceof e))throw new TypeError("Constructor Promise requires `new`");if(!l(t))throw new TypeError("Must pass resolver function");this._state=o,this._value=[],this._isChainEnd=!0,p(this,c(this,n),c(this,r),{then:t})}function n(t,e,r,o){return e?(o||(o=new i(this.constructor)),he(h(o,e,t)),o.promise):(s(o,n,t),this)}function r(t,e,n,o){return n?(o||(o=new i(this.constructor)),he(h(o,n,t)),o.promise):(s(o,r,t),this)}function o(t,e,n,r){if(!r){if(!e&&!n)return this;r=new i(this.constructor)}return t.push({deferred:r,onFulfilled:e||r.resolve,onRejected:n||r.reject}),r.promise}function i(t){var e=this;return this.promise=new t(function(t,n){e.resolve=t,e.reject=n}),e}function a(t,e,n,i){var a=t._value;t._state=e,t._value=n,i&&e===o&&i._state(n,void 0,void 0,{promise:t,resolve:void 0,reject:void 0});for(var c=0;c<a.length;c++){var s=a[c];t._state(n,s.onFulfilled,s.onRejected,s.deferred)}a.length=0,e===r&&t._isChainEnd&&setTimeout(function(){t._isChainEnd&&de(n,t)},0)}function c(t,e){return function(n){a(t,e,n)}}function s(t,e,n){if(t){var r=t.promise;r._state=e,r._value=n}}function u(){}function l(t){return"function"==typeof t}function f(t){return t===Object(t)}function d(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function h(t,e,n){var r=t.promise,o=t.resolve,i=t.reject;return function(){try{var t=e(n);p(r,o,i,t,t)}catch(t){i(t)}}}function p(t,e,n,r,o){var i,c,s=n;try{if(r===t)throw new TypeError("Cannot fulfill promise with itself");var d=f(r);d&&r instanceof t.constructor?a(t,r._state,r._value,r):d&&(i=r.then)&&l(i)?(c=function(r){c=s=u,p(t,e,n,r,r)},s=function(t){c=s=u,n(t)},i.call(o,function(t){c(t)},function(t){s(t)})):e(r)}catch(t){s(t)}}function m(t){if(!t)return t;t=String(t);var e,n,r,o,i,a=0,c=0,s="",u=[];do{e=(i=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,u[c++]=me.charAt(e)+me.charAt(n)+me.charAt(r)+me.charAt(o)}while(a<t.length);s=u.join("");var l=t.length%3;return(l?s.slice(0,l-3):s)+"===".slice(l||3)}function v(t,e){function n(){this.constructor=t}ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function y(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}s((r=r.apply(t,e||[])).next())})}function g(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,c,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function w(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Se;case"days":case"day":case"d":return n*Ce;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ee;case"minutes":case"minute":case"mins":case"min":case"m":return n*_e;case"seconds":case"second":case"secs":case"sec":case"s":return n*be;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function b(t){return t>=Ce?Math.round(t/Ce)+"d":t>=Ee?Math.round(t/Ee)+"h":t>=_e?Math.round(t/_e)+"m":t>=be?Math.round(t/be)+"s":t+"ms"}function _(t){return E(t,Ce,"day")||E(t,Ee,"hour")||E(t,_e,"minute")||E(t,be,"second")||t+" ms"}function E(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}function C(t,e,n){n=n||{};var r=F(t)+"="+F(e);null==e&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function S(){var t;try{t=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return k(t)}function x(t){return S()[t]}function k(t){var e,n={},r=t.split(/ *; */);if(""==r[0])return n;for(var o=0;o<r.length;++o)n[j((e=r[o].split("="))[0])]=j(e[1]);return n}function F(t){try{return encodeURIComponent(t)}catch(e){Ae("error `encode(%o)` - %o",t,e)}}function j(t){try{return decodeURIComponent(t)}catch(e){Ae("error `decode(%o)` - %o",t,e)}}function O(t,e){return Array.prototype.slice.call(t,e||0)}function T(t,e){P(t,function(t,n){return e(t,n),!1})}function P(t,e){if(A(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var r in t)if(t.hasOwnProperty(r)&&e(t[r],r))return t[r]}function A(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function M(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}function L(t,e,n){n||(n=""),t&&!Xe(t)&&(t=[t]),e&&!Xe(e)&&(e=[e]);var r=n?"__storejs_"+n+"_":"",o=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var i=Ve({_namespacePrefix:r,_namespaceRegexp:o,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(t){return!1}},_assignPluginFnProp:function(t,e){var n=this[e];this[e]=function(){var e=Ue(arguments,0),r=this,o=[function(){if(n)return Ge(arguments,function(t,n){e[n]=t}),n.apply(r,e)}].concat(e);return t.apply(r,o)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(e){n=t}return void 0!==n?n:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(Xe(t))Ge(t,function(t){e._addPlugin(t)});else if(!$e(this.plugins,function(e){return t===e})){if(this.plugins.push(t),!Ye(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!Ze(n))throw new Error("Plugins must return an object of function properties");Ge(n,function(n,r){if(!Ye(n))throw new Error("Bad plugin property: "+r+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(n,r)})}},addStorage:function(t){M("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},Qe,{plugins:[]});return i.raw={},Ge(i,function(t,e){Ye(t)&&(i.raw[e]=Je(i,t))}),Ge(t,function(t){i._addStorage(t)}),Ge(e,function(t){i._addPlugin(t)}),i}function N(){return tn.sessionStorage}function I(t){return N().getItem(t)}function H(t,e){var n=t.document.createElement("script");n.src=e;var r=new Promise(function(t,e){n.onload=t,n.onerror=e});return t.document.head.appendChild(n),r}function D(t){return new Promise(function(e){var n=function(){return cn(function(){return e(t)},0)};if("complete"===t.document.readyState)return n();t.addEventListener("load",n)})}function R(t){return new Promise(function(e){D(t).then(function(){return setTimeout(function(){return e(t)},50)})})}function q(t){var e=0,n=0;return self.innerHeight?(e=self.innerWidth,n=self.innerHeight):t.documentElement&&t.documentElement.clientHeight?(e=t.documentElement.clientWidth,n=t.documentElement.clientHeight):t.body&&(e=t.body.clientWidth,n=t.body.clientHeight),{x:e,y:n}}function z(t){var e=t.documentElement,n=t.body;return{x:Math.max(e.offsetWidth,e.scrollWidth,n.offsetWidth,n.scrollWidth),y:Math.max(e.offsetHeight,e.scrollHeight,n.offsetHeight,n.scrollHeight)}}function K(t){return{x:window.pageXOffset,y:window.pageYOffset}}function W(t){return"string"==typeof t&&/^(\{|\[)/.test(t)}function B(t){return JSON.parse(t)}function U(t,e){void 0===e&&(e=function(){});try{return B(t)}catch(t){return void e(t)}}function $(t,e){return null!=t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,e)}function G(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var i in o)t[i]=o[i]}return t}function J(t,e){if(Array.isArray(t)&&Array.prototype.forEach.call(t,e),"object"==typeof t)for(var n in t)$(t,n)&&e.call(null,n,t[n])}function V(){return!("undefined"==typeof self||!self.performance||!self.performance.timing||0===self.performance.timing.navigationStart)}function X(){var t=0,e=performance.timing;try{if(performance.getEntriesByType)for(var n=0,r=performance.getEntriesByType("paint");n<r.length;n++){var o=r[n],i=Math.round(o.startTime-o.duration);"first-paint"===o.name&&(t=i)}else if(window.chrome&&window.chrome.loadTimes){var a=window.chrome.loadTimes(),c=1e3*(a.firstPaintTime-a.startLoadTime);t=Math.round(c)}else e.msFirstPaint&&(t=e.msFirstPaint-e.navigationStart)}catch(t){}return t}function Y(t,e){return window.setTimeout(t,e)}function Z(t,e){var n,r=new Promise(function(e,r){n=Y(function(){r()},t)}),o=function(){window.clearTimeout(n)};return e.then(o,o),Promise.race([r,e])}function Q(t){return void 0===t&&(t={}),Object.entries(t).map(function(t){var e=t[0],n=t[1];return"object"==typeof n&&(n=JSON.stringify(n)),e+"="+encodeURIComponent(n)}).join("&")}function tt(t){return Object.keys(t||{}).reduce(function(e,n){var r=t[n];if(e[n]=r,"number"==typeof r)e[n]=""+r;else if(W(r)){var o=U(r)||{};e[n]=tt(o)}return e},{})}function et(t){for(var e in t)return!1;return!0}function nt(){return wn()||yn()||_n()||Cn()?"log_event":"custom_event"}function rt(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function ot(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],ot(n),ot(r))}function it(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(Dn),n=1;n<e.length;n++)t=ot(e,n).join(""),e=t.match(Dn);return t}}function at(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=Rn.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=it(n[0]);r!==n[0]&&(e[n[0]]=r)}n=Rn.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),i=0;i<o.length;i++){var a=o[i];t=t.replace(new RegExp(a,"g"),e[a])}return t}function ct(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}function st(t){return Array.isArray(t)?t.sort():"object"==typeof t?st(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}function ut(t,e){var n=t[e.shift()];return n?0===e.length?n:ut(n,e):n}function lt(){return y(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),void 0===On&&(On=Mn.callPromise("appInfo")),[4,On];case 1:return[2,e.sent()];case 2:return t=e.sent(),[2,{}];case 3:return[2]}})})}function ft(){return y(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),void 0===Tn&&(Tn=Mn.callPromise("adInfo")),[4,Tn];case 1:return[2,e.sent()];case 2:return t=e.sent(),[2,{}];case 3:return[2]}})})}function dt(){return{ad_id:Wn.get("_toutiao_params.ad_id","_tt_ad_id","ad_id","aid"),cid:Wn.get("_toutiao_params.cid","_toutiao_params.log_extra.cid"),rit:Wn.get("_toutiao_params.rit","_toutiao_params.log_extra.rit"),convert_id:Wn.get("_toutiao_params.log_extra.convert_id"),ad_price:Wn.get("_toutiao_params.log_extra.ad_price"),req_id:Wn.get("_toutiao_params.log_extra.req_id","req_id")}}function ht(){return{path:mt(),referrer:document.referrer,search:yt(),title:document.title,url:vt(location.search)}}function pt(){for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}function mt(){var t=pt();return t?Ne(t).pathname:window.location.pathname}function vt(t){var e=pt();if(e)return e.indexOf("?")>-1?e:e+t;var n=window.location.href,r=n.indexOf("#");return-1===r?n:n.slice(0,r)}function yt(){var t=window.location.href,e=t.indexOf("?");return-1===e?"":t.slice(e,-1)}!function(t){function e(){return f.createDocumentFragment()}function n(t){return f.createElement(t)}function r(t,e){if(!t)throw new Error("Failed to construct "+e+": 1 argument required, but only 0 present.")}function o(t){if(1===t.length)return i(t[0]);for(var n=e(),r=D.call(t),o=0;o<t.length;o++)n.appendChild(i(r[o]));return n}function i(t){return"string"==typeof t?f.createTextNode(t):t}for(var a,c,s,u,l,f=t.document,d=Object.prototype.hasOwnProperty,h=Object.defineProperty||function(t,e,n){return d.call(n,"value")?t[e]=n.value:(d.call(n,"get")&&t.__defineGetter__(e,n.get),d.call(n,"set")&&t.__defineSetter__(e,n.set)),t},p=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},m=function(t){if(!t)throw"SyntaxError";if(b.test(t))throw"InvalidCharacterError";return t},v=function(t){var e=void 0===t.className,n=e?t.getAttribute("class")||"":t.className,r=e||"object"==typeof n,o=(r?e?n:n.baseVal:n).replace(w,"");o.length&&H.push.apply(this,o.split(b)),this._isSVG=r,this._=t},y={get:function(){return new v(this)},set:function(){}},g="dom4-tmp-".concat(Math.random()*+new Date).replace(".","-"),w=/^\s+|\s+$/g,b=/\s+/,_=function(t,e){return this.contains(t)?e||this.remove(t):(void 0===e||e)&&(e=!0,this.add(t)),!!e},E=t.DocumentFragment&&DocumentFragment.prototype,C=t.Node,S=(C||Element).prototype,x=t.CharacterData||C,k=x&&x.prototype,F=t.DocumentType,j=F&&F.prototype,O=(t.Element||C||t.HTMLElement).prototype,T=t.HTMLSelectElement||n("select").constructor,P=T.prototype.remove,A=t.ShadowRoot,M=t.SVGElement,L=/ /g,N=function(t){var e="querySelectorAll"===t;return function(n){var r,o,i,a,c,s,u=this.parentNode;if(u){for(a=(i=this.getAttribute("id")||g)===g?i:i.replace(L,"\\ "),s=n.split(","),o=0;o<s.length;o++)s[o]="#"+a+" "+s[o];n=s.join(",")}if(i===g&&this.setAttribute("id",i),c=(u||this)[t](n),i===g&&this.removeAttribute("id"),e)for(o=c.length,r=new Array(o);o--;)r[o]=c[o];else r=c;return r}},I=function(t){"query"in t||(t.query=O.query),"queryAll"in t||(t.queryAll=O.queryAll)},H=["matches",O.matchesSelector||O.webkitMatchesSelector||O.khtmlMatchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||function(t){var e=this.parentNode;return!!e&&-1<p.call(e.querySelectorAll(t),this)},"closest",function(t){for(var e,n=this;(e=n&&n.matches)&&!n.matches(t);)n=n.parentNode;return e?n:null},"prepend",function(){var t=this.firstChild,e=o(arguments);t?this.insertBefore(e,t):this.appendChild(e)},"append",function(){this.appendChild(o(arguments))},"before",function(){var t=this.parentNode;t&&t.insertBefore(o(arguments),this)},"after",function(){var t=this.parentNode,e=this.nextSibling,n=o(arguments);t&&(e?t.insertBefore(n,e):t.appendChild(n))},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var t=this.parentNode;t&&t.replaceChild(o(arguments),this)},"remove",function(){var t=this.parentNode;t&&t.removeChild(this)},"query",N("querySelector"),"queryAll",N("querySelectorAll")],D=H.slice,R=H.length;R;R-=2)if((c=H[R-2])in O||(O[c]=H[R-1]),"remove"===c&&(T.prototype[c]=function(){return 0<arguments.length?P.apply(this,arguments):O.remove.call(this)}),/^(?:before|after|replace|replaceWith|remove)$/.test(c)&&(!x||c in k||(k[c]=H[R-1]),!F||c in j||(j[c]=H[R-1])),/^(?:append|prepend)$/.test(c))if(E)c in E||(E[c]=H[R-1]);else try{e().constructor.prototype[c]=H[R-1]}catch(t){}if(I(f),E)I(E);else try{I(e().constructor.prototype)}catch(t){}A&&I(A.prototype),n("a").matches("a")||(O[c]=function(t){return function(n){return t.call(this.parentNode?this:e().appendChild(this),n)}}(O[c])),v.prototype={length:0,add:function(){for(var t,e=0;e<arguments.length;e++)t=arguments[e],this.contains(t)||H.push.call(this,c);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},contains:function(t){return function(e){return-1<(R=t.call(this,c=m(e)))}}([].indexOf||function(t){for(R=this.length;R--&&this[R]!==t;);return R}),item:function(t){return this[t]||null},remove:function(){for(var t,e=0;e<arguments.length;e++)t=arguments[e],this.contains(t)&&H.splice.call(this,R,1);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},toggle:_,toString:function(){return H.join.call(this," ")}},!M||"classList"in M.prototype||h(M.prototype,"classList",y),"classList"in f.documentElement?((u=n("div").classList).add("a","b","a"),"a b"!=u&&("add"in(s=u.constructor.prototype)||(s=t.TemporaryTokenList.prototype),l=function(t){return function(){for(var e=0;e<arguments.length;)t.call(this,arguments[e++])}},s.add=l(s.add),s.remove=l(s.remove),s.toggle=_)):h(O,"classList",y),"contains"in S||h(S,"contains",{value:function(t){for(;t&&t!==this;)t=t.parentNode;return this===t}}),"head"in f||h(f,"head",{get:function(){return a||(a=f.getElementsByTagName("head")[0])}}),function(){for(var e,n=t.requestAnimationFrame,r=t.cancelAnimationFrame,o=["o","ms","moz","webkit"],i=o.length;!r&&i--;)n=n||t[o[i]+"RequestAnimationFrame"],r=t[o[i]+"CancelAnimationFrame"]||t[o[i]+"CancelRequestAnimationFrame"];r||(n?(e=n,n=function(t){var n=!0;return e(function(){n&&t.apply(this,arguments)}),function(){n=!1}},r=function(t){t()}):(n=function(t){return setTimeout(t,15,15)},r=function(t){clearTimeout(t)})),t.requestAnimationFrame=n,t.cancelAnimationFrame=r}();try{new t.CustomEvent("?")}catch(e){t.CustomEvent=function(t,e){function n(t,e,n,r){this.initEvent(t,e,n),this.detail=r}return function(r,o){var i=f.createEvent(t);if("string"!=typeof r)throw new Error("An event name must be provided");return"Event"==t&&(i.initCustomEvent=n),null==o&&(o=e),i.initCustomEvent(r,o.bubbles,o.cancelable,o.detail),i}}(t.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}try{new Event("_")}catch(e){e=function(t){function e(t,e){r(arguments.length,"Event");var n=f.createEvent("Event");return e||(e={}),n.initEvent(t,!!e.bubbles,!!e.cancelable),n}return e.prototype=t.prototype,e}(t.Event||function(){}),h(t,"Event",{value:e}),Event!==e&&(Event=e)}try{new KeyboardEvent("_",{})}catch(e){e=function(e){function n(t){for(var e=[],n=["ctrlKey","Control","shiftKey","Shift","altKey","Alt","metaKey","Meta","altGraphKey","AltGraph"],r=0;r<n.length;r+=2)t[n[r]]&&e.push(n[r+1]);return e.join(" ")}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&!e.hasOwnProperty.call(t,n)&&(t[n]=e[n]);return t}function i(t,e,n){try{e[t]=n[t]}catch(t){}}function a(e,a){r(arguments.length,"KeyboardEvent"),a=o(a||{},u);var l,d=f.createEvent(c),h=a.ctrlKey,p=a.shiftKey,m=a.altKey,v=a.metaKey,y=a.altGraphKey,g=s>3?n(a):null,w=String(a.key),b=String(a.char),_=a.location,E=a.keyCode||(a.keyCode=w)&&w.charCodeAt(0)||0,C=a.charCode||(a.charCode=b)&&b.charCodeAt(0)||0,S=a.bubbles,x=a.cancelable,k=a.repeat,F=a.locale,j=a.view||t;if(a.which||(a.which=a.keyCode),"initKeyEvent"in d)d.initKeyEvent(e,S,x,j,h,m,p,v,E,C);else if(0<s&&"initKeyboardEvent"in d){switch(l=[e,S,x,j],s){case 1:l.push(w,_,h,p,m,v,y);break;case 2:l.push(h,m,p,v,E,C);break;case 3:l.push(w,_,h,m,p,v,y);break;case 4:l.push(w,_,g,k,F);break;default:l.push(char,w,_,g,k,F)}d.initKeyboardEvent.apply(d,l)}else d.initEvent(e,S,x);for(w in d)u.hasOwnProperty(w)&&d[w]!==a[w]&&i(w,d,a);return d}var c,s=0,u={char:"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,repeat:!1,locale:navigator.language,detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0};try{var l=f.createEvent("KeyboardEvent");l.initKeyboardEvent("keyup",!1,!1,t,"+",3,!0,!1,!0,!1,!1),s="+"==(l.keyIdentifier||l.key)&&3==(l.keyLocation||l.location)&&(l.ctrlKey?l.altKey?1:3:l.shiftKey?2:4)||9}catch(t){}return c=0<s?"KeyboardEvent":"Event",a.prototype=e.prototype,a}(t.KeyboardEvent||function(){}),h(t,"KeyboardEvent",{value:e}),KeyboardEvent!==e&&(KeyboardEvent=e)}try{new MouseEvent("_",{})}catch(e){e=function(e){function n(e,n){r(arguments.length,"MouseEvent");var o=f.createEvent("MouseEvent");return n||(n={}),o.initMouseEvent(e,!!n.bubbles,!!n.cancelable,n.view||t,n.detail||1,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.button||0,n.relatedTarget||null),o}return n.prototype=e.prototype,n}(t.MouseEvent||function(){}),h(t,"MouseEvent",{value:e}),MouseEvent!==e&&(MouseEvent=e)}}(window),function(t){function e(){}function n(t,e,r){function o(t){o.once&&(t.currentTarget.removeEventListener(t.type,e,o),o.removed=!0),o.passive&&(t.preventDefault=n.preventDefault),"function"==typeof o.callback?o.callback.call(this,t):o.callback&&o.callback.handleEvent(t),o.passive&&delete t.preventDefault}return o.type=t,o.callback=e,o.capture=!!r.capture,o.passive=!!r.passive,o.once=!!r.once,o.removed=!1,o}var r=t.WeakMap||function(){function t(t,e,n){c=n,a=!1,r=void 0,t.dispatchEvent(e)}function e(t){this.value=t}function n(){o++,this.__ce__=new i("@DOMMap:"+o+Math.random())}var r,o=0,a=!1,c=!1;return e.prototype.handleEvent=function(t){a=!0,c?t.currentTarget.removeEventListener(t.type,this,!1):r=this.value},n.prototype={constructor:n,delete:function(e){return t(e,this.__ce__,!0),a},get:function(e){t(e,this.__ce__,!1);var n=r;return r=void 0,n},has:function(e){return t(e,this.__ce__,!1),a},set:function(n,r){return t(n,this.__ce__,!0),n.addEventListener(this.__ce__.type,new e(r),!1),this}},n}();e.prototype=(Object.create||Object)(null),n.preventDefault=function(){};var o,i=t.CustomEvent,a=(Object.prototype.hasOwnProperty,t.dispatchEvent),c=t.addEventListener,s=t.removeEventListener,u=0,l=function(){u++},f=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},d=function(t){return"".concat(t.capture?"1":"0",t.passive?"1":"0",t.once?"1":"0")};try{c("_",l,{once:!0}),a(new i("_")),a(new i("_")),s("_",l,{once:!0})}catch(t){}1!==u&&function(){function i(t){return function(r,o,i){if(i&&"boolean"!=typeof i){var a,s,u,l=c.get(this),h=d(i);l||c.set(this,l=new e),r in l||(l[r]={handler:[],wrap:[]}),s=l[r],(a=f.call(s.handler,o))<0?(a=s.handler.push(o)-1,s.wrap[a]=u=new e):u=s.wrap[a],h in u||(u[h]=n(r,o,i),t.call(this,r,u[h],u[h].capture))}else t.call(this,r,o,i)}}function a(t){return function(e,n,r){if(r&&"boolean"!=typeof r){var o,i,a,s,u=c.get(this);if(u&&e in u&&(a=u[e],-1<(i=f.call(a.handler,n))&&(o=d(r),s=a.wrap[i],o in s))){t.call(this,e,s[o],s[o].capture),delete s[o];for(o in s)return;a.handler.splice(i,1),a.wrap.splice(i,1),0===a.handler.length&&delete u[e]}}else t.call(this,e,n,r)}}var c=new r;o=function(t){if(t){var e=t.prototype;e.addEventListener=i(e.addEventListener),e.removeEventListener=a(e.removeEventListener)}},t.EventTarget?o(EventTarget):(o(t.Text),o(t.Element||t.HTMLElement),o(t.HTMLDocument),o(t.Window||{prototype:t}),o(t.XMLHttpRequest))}()}(self),"scrollingElement"in document||function(){function t(t){return window.getComputedStyle?getComputedStyle(t,null):t.currentStyle}function e(t){return window.HTMLBodyElement?t instanceof HTMLBodyElement:/body/i.test(t.tagName)}function n(t){for(var n=t;n=n.nextSibling;)if(1==n.nodeType&&e(n))return n;return null}function r(t){return"none"!=t.display&&!("collapse"==t.visibility&&/^table-(.+-group|row|column)$/.test(t.display))}function o(e){var n=t(e),o=t(document.documentElement);return"visible"!=n.overflow&&"visible"!=o.overflow&&r(n)&&r(o)}var i,a=function(){if(!/^CSS1/.test(document.compatMode))return!1;if(void 0===i){var t=document.createElement("iframe");t.style.height="1px",(document.body||document.documentElement||document).appendChild(t);var e=t.contentWindow.document;e.write('<!DOCTYPE html><div style="height:9999em">x</div>'),e.close(),i=e.documentElement.scrollHeight>e.body.scrollHeight,t.parentNode.removeChild(t)}return i},c=function(){if(a())return document.documentElement;var t=document.body;return(t=t&&!/body/i.test(t.tagName)?n(t):t)&&o(t)?null:t};Object.defineProperty?Object.defineProperty(document,"scrollingElement",{get:c}):document.__defineGetter__?document.__defineGetter__("scrollingElement",c):(document.scrollingElement=c(),document.attachEvent&&document.attachEvent("onpropertychange",function(){"activeElement"==window.event.propertyName&&(document.scrollingElement=c())}))}();var gt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wt=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),bt=t(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),_t=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Et=function(t){if(!_t(t))throw TypeError(t+" is not an object!");return t},Ct=function(t){try{return!!t()}catch(t){return!0}},St=!Ct(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),xt=wt.document,kt=_t(xt)&&_t(xt.createElement),Ft=function(t){return kt?xt.createElement(t):{}},jt=!St&&!Ct(function(){return 7!=Object.defineProperty(Ft("div"),"a",{get:function(){return 7}}).a}),Ot=function(t,e){if(!_t(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!_t(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!_t(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!_t(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},Tt=Object.defineProperty,Pt={f:St?Object.defineProperty:function(t,e,n){if(Et(t),e=Ot(e,!0),Et(n),jt)try{return Tt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},At=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Mt=St?function(t,e,n){return Pt.f(t,e,At(1,n))}:function(t,e,n){return t[e]=n,t},Lt={}.hasOwnProperty,Nt=function(t,e){return Lt.call(t,e)},It=0,Ht=Math.random(),Dt=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++It+Ht).toString(36))},Rt=t(function(t){var e=Dt("src"),n=Function.toString,r=(""+n).split("toString");bt.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,i){var a="function"==typeof o;a&&(Nt(o,"name")||Mt(o,"name",n)),t[n]!==o&&(a&&(Nt(o,e)||Mt(o,e,t[n]?""+t[n]:r.join(String(n)))),t===wt?t[n]=o:i?t[n]?t[n]=o:Mt(t,n,o):(delete t[n],Mt(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),qt=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},zt=function(t,e,n){if(qt(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},Kt=function(t,e,n){var r,o,i,a,c=t&Kt.F,s=t&Kt.G,u=t&Kt.S,l=t&Kt.P,f=t&Kt.B,d=s?wt:u?wt[e]||(wt[e]={}):(wt[e]||{}).prototype,h=s?bt:bt[e]||(bt[e]={}),p=h.prototype||(h.prototype={});s&&(n=e);for(r in n)i=((o=!c&&d&&void 0!==d[r])?d:n)[r],a=f&&o?zt(i,wt):l&&"function"==typeof i?zt(Function.call,i):i,d&&Rt(d,r,i,t&Kt.U),h[r]!=i&&Mt(h,r,a),l&&p[r]!=i&&(p[r]=i)};wt.core=bt,Kt.F=1,Kt.G=2,Kt.S=4,Kt.P=8,Kt.B=16,Kt.W=32,Kt.U=64,Kt.R=128;var Wt=Kt,Bt={}.toString,Ut=function(t){return Bt.call(t).slice(8,-1)},$t=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Ut(t)?t.split(""):Object(t)},Gt=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Jt=function(t){return $t(Gt(t))},Vt=Math.ceil,Xt=Math.floor,Yt=function(t){return isNaN(t=+t)?0:(t>0?Xt:Vt)(t)},Zt=Math.min,Qt=function(t){return t>0?Zt(Yt(t),9007199254740991):0},te=Math.max,ee=Math.min,ne=function(t,e){return(t=Yt(t))<0?te(t+e,0):ee(t,e)},re=wt["__core-js_shared__"]||(wt["__core-js_shared__"]={}),oe=function(t){return re[t]||(re[t]={})}("keys"),ie=function(t){return function(e,n,r){var o,i=Jt(e),a=Qt(i.length),c=ne(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}}(!1),ae=function(t){return oe[t]||(oe[t]=Dt(t))}("IE_PROTO"),ce=function(t,e){var n,r=Jt(t),o=0,i=[];for(n in r)n!=ae&&Nt(r,n)&&i.push(n);for(;e.length>o;)Nt(r,n=e[o++])&&(~ie(i,n)||i.push(n));return i},se="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ue=Object.keys||function(t){return ce(t,se)},le={f:{}.propertyIsEnumerable}.f,fe=function(t){return function(e){for(var n,r=Jt(e),o=ue(r),i=o.length,a=0,c=[];i>a;)le.call(r,n=o[a++])&&c.push(t?[n,r[n]]:r[n]);return c}}(!0);Wt(Wt.S,"Object",{entries:function(t){return fe(t)}}),e.prototype.then=function(t,e){return t=l(t)?t:void 0,e=l(e)?e:void 0,(t||e)&&(this._isChainEnd=!1),this._state(this._value,t,e)},e.prototype.catch=function(t){return this.then(void 0,t)},e.resolve=function(t){var e=this;return f(t)&&t instanceof this?t:new e(function(e){e(t)})},e.reject=function(t){return new this(function(e,n){n(t)})},e.all=function(t){var e=this;return new e(function(n,r){var o=t.length,i=new Array(o);if(0===o)return n(i);d(t,function(t,a){e.resolve(t).then(function(t){i[a]=t,0==--o&&n(i)},r)})})},e.race=function(t){var e=this;return new e(function(n,r){for(var o=0;o<t.length;o++)e.resolve(t[o]).then(n,r)})};var de=function(t,e){throw t};e._overrideUnhandledExceptionHandler=function(t){de=t};var he=function(){function t(){for(var t=0;t<r;t++){var e=n[t];n[t]=null,e()}r=0}var e;"undefined"!=typeof window&&window.postMessage?(window.addEventListener("message",t),e=function(){window.postMessage("macro-task","*")}):e=function(){setTimeout(t,0)};var n=new Array(16),r=0;return function(t){0===r&&e(),n[r++]=t}}(),pe=e,me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";!function(t){t.Promise||(t.Promise=pe)}(self),function(t){t.Date.now||(t.Date.now=function(){return 1*new Date})}(self),function(t){t.btoa||(t.btoa=m)}(self);var ve,ye,ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},we=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},be=1e3,_e=60*be,Ee=60*_e,Ce=24*Ee,Se=365.25*Ce,xe=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return w(t);if("number"===n&&!1===isNaN(t))return e.long?_(t):b(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},ke=t(function(t,e){function n(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function r(t){function r(){if(r.enabled){var t=r,n=+new Date,o=n-(i||n);t.diff=o,t.prev=i,t.curr=n,i=n;for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var o=e.formatters[r];if("function"==typeof o){var i=a[s];n=o.call(t,i),a.splice(s,1),s--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}var i;return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=n(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];var n,r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=xe,e.instances=[],e.names=[],e.skips=[],e.formatters={}}),Fe=t(function(t,e){function n(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=ke).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())}),je=[].slice,Oe=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=je.call(arguments,2);return function(){return e.apply(t,n.concat(je.call(arguments)))}},Te=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=Oe(t,t[e]));return t},Pe=t(function(t){function e(t){if(t)return n(t)}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),Ae=Fe("cookie"),Me=function(t,e,n){switch(arguments.length){case 3:case 2:return C(t,e,n);case 1:return x(t);default:return S()}},Le=t(function(t,e){function n(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}e.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?n(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},e.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},e.isRelative=function(t){return!e.isAbsolute(t)},e.isCrossDomain=function(t){t=e.parse(t);var n=e.parse(window.location.href);return t.hostname!==n.hostname||t.port!==n.port||t.protocol!==n.protocol}}),Ne=Le.parse,Ie=t(function(t,e){function n(t){for(var n=e.cookie,r=e.levels(t),o=0;o<r.length;++o){var i=r[o],a={domain:"."+i};if(n("__tld__",1,a),n("__tld__"))return n("__tld__",null,a),i}return""}var r=Le.parse;n.levels=function(t){var e=r(t).hostname.split("."),n=e[e.length-1],o=[];if(4===e.length&&n===parseInt(n,10))return o;if(e.length<=1)return o;for(var i=e.length-2;i>=0;--i)o.push(e.slice(i).join("."));return o},n.cookie=Me,e=t.exports=n}),He=Fe("seed.js:cookie"),De=function(){function t(t){void 0===t&&(t={}),this.options(t)}return t.prototype.options=function(t){void 0===t&&(t={});var e="."+Ie(window.location.href);"."===e&&(e=null),this._options=we({path:"/",domain:e},t),this.set("seedjs:test",!0),this.get("seedjs:test")||(He("fallback to domain=null"),this._options.domain=null),this.remove("seedjs:test")},t.prototype.set=function(t,e){try{return e=JSON.stringify(e),Me(t,e,we({},this._options)),!0}catch(t){return!1}},t.prototype.get=function(t){try{var e=Me(t);return e=e?JSON.parse(e):null}catch(t){return!1}},t.prototype.remove=function(t){try{Me(t,null,we({},this._options))}catch(t){return!1}},t}(),Re=Te(new De),qe=Object.assign?Object.assign:function(t,e,n,r){for(var o=1;o<arguments.length;o++)T(Object(arguments[o]),function(e,n){t[n]=e});return t},ze=function(){function t(){}if(Object.create)return function(t,e,n,r){var o=O(arguments,1);return qe.apply(this,[Object.create(t)].concat(o))};return function(e,n,r,o){var i=O(arguments,1);return t.prototype=e,qe.apply(this,[new t].concat(i))}}(),Ke=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},We="undefined"!=typeof window?window:gt,Be={assign:qe,create:ze,trim:Ke,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:O,each:T,map:function(t,e){var n=A(t)?[]:{};return P(t,function(t,r){return n[r]=e(t,r),!1}),n},pluck:P,isList:A,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:We},Ue=Be.slice,$e=Be.pluck,Ge=Be.each,Je=Be.bind,Ve=Be.create,Xe=Be.isList,Ye=Be.isFunction,Ze=Be.isObject,Qe={version:"2.0.12",enabled:!1,get:function(t,e){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each(function(n,r){t.call(e,e._deserialize(n),(r||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return L.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return L(this.storage,this.plugins,t)}},tn=Be.Global,en={name:"memoryStorage",read:function(t){return nn[t]},write:function(t,e){nn[t]=e},each:function(t){for(var e in nn)nn.hasOwnProperty(e)&&t(nn[e],e)},remove:function(t){delete nn[t]},clearAll:function(t){nn={}}},nn={},rn={createStore:L}.createStore([{name:"sessionStorage",read:I,write:function(t,e){return N().setItem(t,e)},each:function(t){for(var e=N().length-1;e>=0;e--){var n=N().key(e);t(I(n),n)}},remove:function(t){return N().removeItem(t)},clearAll:function(){return N().clear()}},en],[function(){var t={};return{defaults:function(e,n){t=n},get:function(e,n){var r=e();return void 0!==r?r:t[n]}}}]),on=function(){function t(){this.enabled=!1,this.enabled=rn.enabled}return t.prototype.set=function(t,e){return!!this.enabled&&rn.set(t,e)},t.prototype.get=function(t){return this.enabled?rn.get(t):null},t.prototype.remove=function(t){return!!this.enabled&&rn.remove(t)},t}(),an=Te(new on);ve=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},ye=function(t){var e,n,r=document.createTextNode(""),o=0;return new t(function(){var t;if(e)n&&(e=n.concat(e));else{if(!n)return;e=n}if(n=e,e=null,"function"==typeof n)return t=n,n=null,void t();for(r.data=o=++o%2;n;)t=n.shift(),n.length||(n=null),t()}).observe(r,{characterData:!0}),function(t){ve(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,r.data=o=++o%2)}};var cn=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return ye(MutationObserver);if("function"==typeof WebKitMutationObserver)return ye(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(ve(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(ve(t),0)}:null}(),sn=function(){var t=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},e=function(){return Math.random().toString(16).replace(".","")},n=function(){function t(t,e){var n,r=0;for(n=0;n<e.length;n++)r|=o[n]<<8*n;return t^r}var e,n,r=navigator.userAgent,o=[],i=0;for(e=0;e<r.length;e++)n=r.charCodeAt(e),o.unshift(255&n),o.length>=4&&(i=t(i,o),o=[]);return o.length>0&&(i=t(i,o)),i.toString(16)};return function(){var r=(screen.height*screen.width).toString(16);return t()+"-"+e()+"-"+n()+"-"+r+"-"+t()}}(),un=["joke_essay","Joke"],ln=["live_stream"],fn=["aweme"],dn=["News","NewsSocial","Explore","NewsArticle","NewsInHouse","Video","VideoInHouse","VideoArticle"].concat(un,ln,fn,["open_news"]),hn=navigator.userAgent,pn=new RegExp("("+dn.join("|")+")","i"),mn=function(){return"http://nativeapp.toutiao.com"==document.referrer||pn.test(hn)},vn=new RegExp("("+un.join("|")+")","i"),yn=function(){return vn.test(hn)},gn=new RegExp("("+fn.join("|")+")","i"),wn=function(){return gn.test(hn)},bn=new RegExp("("+ln.join("|")+")","i"),_n=function(){return bn.test(hn)},En=function(){return/windows phone/i.test(hn)?"Windows Phone":/android/i.test(hn)?"Android":/iPad|iPhone|iPod/.test(hn)&&!window.MSStream?"iOS":"PC"},Cn=function(){return"Android"===En()},Sn=function(){return location.search.indexOf("_toutiao_params")>-1},xn=function(){return["ad.toutiao.com","www.toutiaopage.com","www.chengzijianzhan.com","chuangyi.toutiao.com","haohuo.snssdk.com"].indexOf(location.hostname)>-1},kn=(Fe("seed.js:session"),function(){function t(){this.storeKey="seed.js:session",this.initialize()}return t.prototype.initialize=function(){this.testCookie()?this._storage=Re:this._storage=an},t.prototype.create=function(){return{id:sn(),page:sn(),created:Date.now()}},t.prototype.newPageview=function(){var t=this.storage().get(this.storeKey);this.storage().set(this.storeKey,we({},t,{lastPage:t.page,page:sn(),created:Date.now()}))},t.prototype.storage=function(){return this._storage},t.prototype.testCookie=function(){var t="seed:cookies";return Re.set(t,!0),!!Re.get(t)&&(Re.remove(t),!0)},t.prototype.sessionId=function(){return this.storage().get(this.storeKey).id},t.prototype.pageviewId=function(){return this.storage().get(this.storeKey).page},t.prototype.load=function(){var t=this.storage();return t.get(this.storeKey)?this.newPageview():t.set(this.storeKey,this.create()),this},t}()),Fn=Te(new kn),jn=function(t,e){var n=new XMLHttpRequest;n.open("POST",t,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof e?n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"):"[object Blob]"==={}.toString.call(e)&&e.type&&n.setRequestHeader("Content-Type",e.type);try{n.send(e)}catch(t){}return!0};"navigator"in window&&"sendBeacon"in window.navigator&&(jn=navigator.sendBeacon.bind(navigator));var On,Tn,Pn=jn,An=function(){function t(){}return t.prototype.install=function(){this.sdkLoaded=H(self,"//s3.pstatp.com/inapp/toutiao.js").then(function(){return self.ToutiaoJSBridge})},t.prototype.callPromise=function(t){return y(this,void 0,void 0,function(){var e,n;return g(this,function(r){switch(r.label){case 0:return[4,this.sdkLoaded];case 1:return e=r.sent(),n=new Promise(function(n,r){e.call(t,{},function(t){void 0===t&&(t={});var e=t.code;if(et(t)?e=1:void 0==e&&(e=1),1==e){"string"==typeof t&&(t=U(t));var o=tt(t);n(o)}else r()})}),[2,Z(500,n)]}})})},t.prototype.on=function(t,e){return y(this,void 0,void 0,function(){var n;return g(this,function(r){switch(r.label){case 0:return[4,this.sdkLoaded];case 1:return(n=r.sent()).on(t,e),[2]}})})},t.prototype.log=function(t){return y(this,void 0,void 0,function(){var e,n,r,o,i;return g(this,function(a){switch(a.label){case 0:return[4,R(self)];case 1:return a.sent(),[4,this.sdkLoaded];case 2:return e=a.sent(),n=JSON.stringify(t),r=Q({extra:{tetris_log:n}}),o=nt(),i="bytedance://"+o+"?category=tetris_log&tag=tetris_track&label=track&"+r,this.supportedMessage()?this.logByPostMessage(i):this.logByConsole(i),[2]}})})},t.prototype.sendBeacon=function(t){return y(this,void 0,void 0,function(){var e,n,r,o;return g(this,function(i){return e=JSON.stringify(t),n=JSON.stringify({tetris_log:e}),r="//isub.snssdk.com/2/wap/landing_tetris_log/tr/",o=JSON.stringify({category:"tetris_log",tag:"tetris_track",label:"track",extra:n}),Pn(r,o),[2]})})},t.prototype.supportedMessage=function(){try{return window.webkit.messageHandlers.observe.postMessage(),!0}catch(t){return!1}},t.prototype.logByPostMessage=function(t){try{window.webkit.messageHandlers.observe.postMessage(t)}catch(t){}},t.prototype.logByConsole=function(t){console.log(t)},t.prototype.logByIframe=function(t){var e=document.createElement("iframe");e.style.width="1px",e.style.height="1px",e.style.visibility="hidden",e.style.position="absolute",e.src=t,document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},100)},t}(),Mn=Te(new An),Ln=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,Hn=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,o=rt(t),i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)Nn.call(n,a)&&(o[a]=n[a]);if(Ln){r=Ln(n);for(var c=0;c<r.length;c++)In.call(n,r[c])&&(o[r[c]]=n[r[c]])}}return o},Dn=new RegExp("%[a-f0-9]{2}","gi"),Rn=new RegExp("(%[a-f0-9]{2})+","gi"),qn=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return at(t)}},zn=function(t,e){var n=ct(e=Hn({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:qn(i),n(qn(o),i,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=st(n):t[e]=n,t},Object.create(null))):r},Kn=function(){function t(){this.parseQuery()}return t.prototype.parseQuery=function(){this.params=tt(zn(location.search)),this.referrerParams=tt(zn(document.referrer))},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var r=t[n].split("."),o=void 0;if(void 0!==(o=ut(this.params,r)))return o;if(void 0!==(o=ut(this.referrerParams,r)))return o}return""},t}(),Wn=Te(new Kn);Mn.install();var Bn="seed.js:_ad",Un={load:function(){return y(this,void 0,void 0,function(){var t,e,n;return g(this,function(r){switch(r.label){case 0:return an.get(Bn)?[2,an.get(Bn)]:(t=dt(),mn()?(e={},[4,ft()]):[3,2]);case 1:(n=r.sent())&&(n.cid&&(e.cid=n.cid),n.log_extra&&(n.log_extra.rit&&(e.rit=n.log_extra.rit),n.log_extra.convert_id&&(e.convert_id=n.log_extra.convert_id),n.log_extra.ad_price&&(e.ad_price=n.log_extra.ad_price),n.log_extra.req_id&&(e.req_id=n.log_extra.req_id))),t=we({},t,e),r.label=2;case 2:return an.set(Bn,t),[2,t]}})})}},$n={load:function(){return y(this,void 0,void 0,function(){var t,e;return g(this,function(n){switch(n.label){case 0:return t={ut:"",uid:"",user_id:"",device_id:""},mn()?[4,lt()]:[3,2];case 1:(e=n.sent())&&(t.user_id=e.user_id||"",t.device_id=e.device_id||""),n.label=2;case 2:return t.ut=Wn.get("_toutiao_params.ut"),t.uid=Wn.get("_toutiao_params.uid"),[2,t]}})})}},Gn="0.4.2",Jn={load:function(){return y(this,void 0,void 0,function(){var t,e;return g(this,function(n){switch(n.label){case 0:return t={},mn()?[4,lt()]:[3,2];case 1:(e=n.sent())&&(t.app={id:e.aid,name:e.appName,version:e.appVersion},t.network=e.netType),n.label=2;case 2:return t.library={name:"seed.js",version:Gn},t.screen={width:screen.width,height:screen.height,dpr:window.devicePixelRatio},t.ua=navigator.userAgent,t.page=ht(),[2,t]}})})}},Vn=function(t){function e(e){var n=e.queue,r=void 0===n?[]:n,o=e.start,i=void 0===o?Date.now():o,a=t.call(this)||this;return a.initialized=!1,a._readied=!1,a._context={},a.Plugins=[],a._plugins={},a.log=Fe("seed.js"),a.queue=r.slice().map(function(t){return[].slice.call(t)}),a.start=i,a.on("initialize",function(){a.page(),a.process(a.queue)}),Te(a),a}return v(e,t),e.prototype.use=function(t){return t.install(this),this},e.prototype.addPlugin=function(t){this.Plugins.push(t)},e.prototype.add=function(t){this._plugins[t.name]=t},e.prototype.debug=function(){Fe.enable("seed.js*")},e.prototype.set=function(t,e){try{this._context=we({},this._context,(n={},n[t]=String(e),n))}catch(t){}var n},e.prototype.initialize=function(){var t=this;return this.bindDestroyEventListener(),this.session=Fn.load(),this.ad=Un.load(),this.user=$n.load(),this.context=Jn.load(),this.Plugins.forEach(function(e){var n=new e({});t.add(n),n.tracker=t,n.initialize()}),this.initialized=!0,this.emit("initialize"),this},e.prototype.bindDestroyEventListener=function(){var t=this;this.once("_destroy",function(){t.emit("destroy")});var e=function(){t.emit("_destroy")};window.addEventListener("beforeunload",e),window.addEventListener("unload",e),mn()&&(Mn.on("close",e),Mn.on("invisible",e),window.addEventListener("pagehide",e),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()}))},e.prototype.process=function(t){for(;this.queue.length;){var e=this.queue.pop(),n=e[0],r=e.slice(1);this.invoke.apply(this,[n].concat(r))}},e.prototype.invoke=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this[t]){(r=this[t]).call.apply(r,[this].concat(e));var r}},e.prototype.normalize=function(t){return y(this,void 0,void 0,function(){var e,n,r,o;return g(this,function(i){switch(i.label){case 0:return[4,Promise.all([this.ad,this.user,this.context])];case 1:e=i.sent(),n=e[0],r=e[1],o=e[2],t.ad=n,t.user=r,t.context=o;try{t.context=we({},o,this._context)}catch(t){}return t.sessionId=Fn.sessionId(),t.pageviewId=Fn.pageviewId(),t.timestamp=1*new Date,[2,t]}})})},e.prototype.page=function(t){return void 0===t&&(t={}),y(this,void 0,void 0,function(){var e;return g(this,function(n){switch(n.label){case 0:return t=we({},ht(),t),[4,this.normalize({type:"page",properties:t,timestamp:this.start})];case 1:return e=n.sent(),Sn()?(this.sendUnion(we({},e,{event:"pageview"})),[2]):xn()?(this.send(e),[2]):[2]}})})},e.prototype.track=function(t,e){return void 0===e&&(e={}),y(this,void 0,void 0,function(){var n;return g(this,function(r){switch(r.label){case 0:return[4,this.normalize({type:"track",event:t,properties:e})];case 1:return n=r.sent(),Sn()?(this.sendUnion(n),[2]):xn()?(this.send(n),[2]):[2]}})})},e.prototype.send=function(t){mn()?Mn.log(t):Mn.sendBeacon(t)},e.prototype.sendUnion=function(t){t.type="union",Mn.sendBeacon(t)},e}(Pe),Xn=function(t){function e(){var e=t.call(this)||this;return e.debug=Fe("seed.js:plugin:"+e.name),e.win=self,e.doc=e.win.document,e}return v(e,t),e.prototype.initialize=function(){this.emit("initialize")},e.install=function(t){t.addPlugin(this)},e}(Pe),Yn=function(t,e,n){function r(){var u=Date.now()-c;u<e&&u>=0?o=setTimeout(r,e-u):(o=null,n||(s=t.apply(a,i),a=i=null))}var o,i,a,c,s;null==e&&(e=100);var u=function(){a=this,i=arguments,c=Date.now();var u=n&&!o;return o||(o=setTimeout(r,e)),u&&(s=t.apply(a,i),a=i=null),s};return u.clear=function(){o&&(clearTimeout(o),o=null)},u.flush=function(){o&&(s=t.apply(a,i),a=i=null,clearTimeout(o),o=null)},u},Zn="seed.js:plugins/max-scroll-tracker",Qn={touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",scroll:"scroll",click:"click"},tr={"max-scroll-tracker":function(t){function e(e){var n=t.call(this)||this;n.name="max-scroll-tracker";return n.options=we({},{increaseThreshold:10},e),n}return v(e,t),e.prototype.initialize=function(){var t=this;an.set(Zn,{}),this.handleScroll=Yn(this.handleScroll.bind(this),500),D(this.win).then(function(){t.handleScroll()}),this.listenForMaxScrollChanges(),this.tracker.on("destroy",function(){t.tracker.track("max-scroll",{value:t.getMaxScrollPercentage()})})},e.prototype.listenForMaxScrollChanges=function(){this.getMaxScrollPercentage()<100&&this.win.addEventListener("scroll",this.handleScroll,{passive:!0})},e.prototype.stopListeningForMaxScrollChanges=function(){this.win.removeEventListener("scroll",this.handleScroll)},e.prototype.handleScroll=function(){var t=z(this.doc).y,e=K(this.doc).y,n=q(this.doc).y,r=Math.min(100,Math.max(0,Math.floor((e+n)/t*100))),o=this.getMaxScrollPercentage();r>o&&(100!=r&&100!=o||this.stopListeningForMaxScrollChanges(),(100==r||r-o>=this.options.increaseThreshold)&&this.setMaxScrollPercentage(r))},e.prototype.setMaxScrollPercentage=function(t){var e=this.page();an.set(Zn,(n={},n[e]=t,n));var n},e.prototype.getMaxScrollPercentage=function(){var t=this.page();return an.get(Zn)[t]||0},e.prototype.page=function(){return this.tracker.session.pageviewId()},e}(Xn),"metrics-tracker":function(t){function e(e){var n=t.call(this)||this;n.name="max-scroll-tracker";return n.options=we({},{sampleRate:100},e),n}return v(e,t),e.prototype.initialize=function(){var e=this;D(this.win).then(function(){!V()||Math.random()>e.options.sampleRate/100||setTimeout(function(){return e.sendMetrics()},1e3)}),t.prototype.initialize.call(this)},e.prototype.sendMetrics=function(){try{var t=performance.timing,e={redirect:t.redirectEnd-t.redirectStart,dns:t.domainLookupEnd-t.domainLookupStart,connection:t.connectEnd-t.connectStart,request:t.responseEnd-t.requestStart,ttfb:t.responseStart-t.connectEnd,ttfp:X(),domready:t.domContentLoadedEventStart-t.navigationStart,load:t.loadEventEnd-t.navigationStart};this.tracker.track("metrics",e)}catch(t){}},e}(Xn),"page-time-tracker":function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="page-time-tracker",e}return v(e,t),e.prototype.initialize=function(){var e=this;D(this.win).then(function(){e.startTime=Date.now(),e.listenForAttention(),e.listenForPageExit()}),t.prototype.initialize.call(this)},e.prototype.listenForAttention=function(){var t=this,e=document.scrollingElement,n=q(this.doc),r=(z(this.doc),{x:e.scrollLeft,y:e.scrollTop}),o={};this.win.addEventListener("scroll",function(){r.x=e.scrollLeft,r.y=e.scrollTop},{passive:!0});var i=this.startTime,a=setInterval(function(){var t=Date.now()-i;i=Date.now();var e=[r.x,r.x+n.x,r.y,r.y+n.y].join(",");o[e]=o[e]||0,o[e]+=t},250);this.tracker.on("destroy",function(){clearInterval(a),t.tracker.track("attention",{value:o})})},e.prototype.listenForPageExit=function(){var t=this;this.tracker.on("destroy",function(){var e=Date.now()-t.startTime;t.tracker.track("time-on-page",{value:e})})},e}(Xn),"event-tracker":function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="event-tracker",e}return v(e,t),e.prototype.initialize=function(){this.bind(this.doc,"click",this.handleEvents),t.prototype.initialize.call(this)},e.prototype.bind=function(t,e,n){t.addEventListener(e,n.bind(this),{capture:!0})},e.prototype.normalizePosition=function(t,e){var n=e.x,r=e.y,o=t.getBoundingClientRect&&t.getBoundingClientRect();if(null==o||!o.height||!o.width)return null;var i=K(this.doc);return{x:Math.floor((n-i.x-o.left)/o.width*65535),y:Math.floor((r-i.y-o.top)/o.height*65535)}},e.prototype.normalizeClass=function(t,e){void 0===e&&(e=" ");var n=new RegExp("^"+e+"|"+e+"$","g");return t.replace(n,"")},e.prototype.getClass=function(t){var e="string"==typeof t.className?this.normalizeClass(t.className.replace(/\s+/," ")):"";return""!==e?e.split(" "):[]},e.prototype.getText=function(t){var e=(t.textContent||"").trim().replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255);if(""==e){var n=t.closest("a[href]");n&&(e=n.href)}return e},e.prototype.getSelector=function(t){var e=[];try{for(;t&&1==t.nodeType;){var n="",r=t.getAttribute("id");if(r&&!/\d/.test(r[0])&&1==this.doc.querySelectorAll("#"+r).length){n+="#"+r,e.unshift(n);break}n+=t.nodeName.toLowerCase();var o="",i=t,a=1;if(t.parentNode&&t.parentNode.nodeName&&"body"==t.parentNode.nodeName.toLowerCase()){var c=this.getClass(t);o=c.length?"."+c.join("."):""}if(""!=o&&this.doc.querySelectorAll&&1==this.doc.querySelectorAll("body > "+n+o).length)n+=o;else{for(;i=i.previousElementSibling;)i.nodeName.toLowerCase()==n&&a++;1!=a&&(n+=":["+a+"]")}if(e.unshift(n),!t.parentNode)return"";t=t.parentNode}}catch(t){}return e.join(" > ").replace("html > body > ","> ")},e.prototype.handleEvents=function(t){var e=t.target,n=this.normalizePosition(e,{x:t.pageX,y:t.pageY});if(n){var r={x:n.x,y:n.y,target:btoa(this.getSelector(e)),text:this.getText(e)};this.tracker.track("click",r)}},e}(Xn),record:function(t){function e(){var e=t.call(this)||this;return e.name="record",e.initTimestamp=0,e.lastScrolls={},e.lastTouchMove={timeStamp:0},e.lastSnapshot=null,e.snapshotIntervalId=null,e.uploadIntervalId=null,e.scrollIntervalId=null,e.events=[],e.snapshots=[],e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchMove=e.handleTouchMove.bind(e),e.handleTouchEnd=e.handleTouchEnd.bind(e),e.handleScroll=e.handleScroll.bind(e),e.handleClick=e.handleClick.bind(e),e.createSnapshot=e.createSnapshot.bind(e),e.triggerSrcoll=e.triggerSrcoll.bind(e),e.uploadRecord=e.uploadRecord.bind(e),e}return v(e,t),e.prototype.initialize=function(){var e=this;t.prototype.initialize.call(this),D(this.win).then(function(){e.startRecord()})},e.prototype.startRecord=function(){this.initTimestamp=Date.now(),document.addEventListener("touchstart",this.handleTouchStart,!0),document.addEventListener("touchmove",this.handleTouchMove,!0),document.addEventListener("touchend",this.handleTouchEnd,!0),document.addEventListener("scroll",this.handleScroll,!0),document.addEventListener("click",this.handleClick,!0),this.snapshotIntervalId=window.setInterval(this.createSnapshot,500),this.triggerSrcoll(),this.scrollIntervalId=window.setInterval(this.triggerSrcoll,3e4),this.uploadIntervalId=window.setInterval(this.uploadRecord,2e3)},e.prototype.handleTouchStart=function(t){return},e.prototype.handleTouchMove=function(t){return},e.prototype.handleTouchEnd=function(t){return},e.prototype.handleScroll=function(t){var e=this,n={},r=t.target;if(!r||"#document"===r.nodeName){var o=this.getDocumentScroll();if(n.x=o.scrollLeft,n.y=o.scrollTop,n.width=o.scrollWidth,n.height=o.scrollHeight,n.target="document",o.scrollTop<0||o.scrollTop+o.clientHeight>o.scrollHeight){var i=this.getDocumentSrollDebugInfo();n.debug=i}var a=this.lastScrolls[n.target];a||(this.lastScrolls[n.target]={},a=this.lastScrolls[n.target]);var c=Date.now();a.timeStamp&&c-a.timeStamp<200?a.timeoutId||(a.timeoutId=window.setTimeout(function(){a.timeoutId=null,a.timeStamp=Date.now(),e.handleEvent(Qn.scroll,n)},a.timeStamp+300-c)):(a.timeoutId&&(clearTimeout(a.timeoutId),a.timeoutId=null),a.timeStamp=c,this.handleEvent(Qn.scroll,n))}},e.prototype.handleClick=function(t){var e={},n=t.target,r=this.getElementClickPosition(n,{x:t.clientX,y:t.clientY});null!==r&&(e.x=r.x,e.y=r.y,e.width=n.scrollWidth,e.height=n.scrollHeight,e.target=this.getSelectorPath(n),this.handleEvent(Qn.click,e))},e.prototype.handleEvent=function(t,e){e.time=Date.now()-this.initTimestamp,e.type=t,this.events.push(e)},e.prototype.createSnapshot=function(){var t={};this.lastSnapshot&&this.isSnapshotUnchange(this.lastSnapshot,t)||(this.lastSnapshot=t,this.snapshots.push(t))},e.prototype.isSnapshotUnchange=function(t,e){return!(!t||!e)},e.prototype.uploadRecord=function(){var t=this.events,e=this.snapshots;if(this.events=[],this.snapshots=[],0!==t.length||0!==e.length){var n=this.getViewportSize(),r={context:{deviceInfo:{viewpointHeight:n.clientHeight,viewpointWidth:n.clientWidth},initTimestamp:this.initTimestamp,timestamp:Date.now()-this.initTimestamp},events:t,snapshots:e};this.tracker.track("record",r)}},e.prototype.triggerSrcoll=function(){var t={},e=this.getDocumentScroll();t.x=e.scrollLeft,t.y=e.scrollTop,t.width=e.scrollWidth,t.height=e.scrollHeight,t.target="document",this.handleEvent(Qn.scroll,t)},e.prototype.getElementClickPosition=function(t,e){var n=e.x,r=e.y,o=t.getBoundingClientRect&&t.getBoundingClientRect();return null!==o&&o.height&&o.width?{x:n-o.left+t.scrollLeft,y:r-o.top+t.scrollTop}:null},e.prototype.getViewportSize=function(){var t,e;return window.innerWidth?(t=window.innerWidth,e=window.innerHeight):"CSS1Compat"==document.compatMode?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.body.clientWidth,e=document.body.clientHeight),{clientWidth:t,clientHeight:e}},e.prototype.getDocumentScroll=function(){var t,e,n,r,o,i;return"CSS1Compat"===document.compatMode?(t=document.documentElement.scrollWidth,e=document.documentElement.scrollHeight,n=document.documentElement.clientWidth,r=document.documentElement.clientHeight):(t=document.body.scrollWidth,e=document.body.scrollHeight,n=document.body.clientWidth,r=document.body.clientHeight),o=window.pageXOffset,i=window.pageYOffset,{scrollWidth:t,scrollHeight:e,clientWidth:n,clientHeight:r,scrollLeft:o,scrollTop:i}},e.prototype.getDocumentSrollDebugInfo=function(){return{"document.compatMode":document.compatMode,"window.innerWidth":window.innerWidth,"window.innerHeight":window.innerHeight,"document.documentElement.scrollWidth":document.documentElement.scrollWidth,"document.documentElement.scrollHeight":document.documentElement.scrollHeight,"document.documentElement.clientWidth":document.documentElement.clientWidth,"document.documentElement.clientHeight":document.documentElement.clientHeight,"document.documentElement.scrollLeft":document.documentElement.scrollLeft,"document.documentElement.scrollTop":document.documentElement.scrollTop,"document.body.scrollWidth":document.body.scrollWidth,"document.body.scrollHeight":document.body.scrollHeight,"document.body.clientWidth":document.body.clientWidth,"document.body.clientHeight":document.body.clientHeight,"document.body.scrollLeft":document.body.scrollLeft,"document.body.scrollTop":document.body.scrollTop}},e.prototype.getSelectorPath=function(t){var e=[];try{for(;t&&1==t.nodeType;){var n="";if(t.getAttribute("id")){n+="#"+t.getAttribute("id"),e.unshift(n);break}n+=t.nodeName.toLowerCase();var r="",o=t,i=1;if(t.parentNode&&t.parentNode.nodeName&&"body"==t.parentNode.nodeName.toLowerCase()){var a="string"==typeof t.className?t.className.replace(/\s+/," "):"",c=""!==a?a.split(" "):[];r=c.length?"."+c.join("."):""}if(""!==r&&document.querySelectorAll&&1==document.querySelectorAll("body > "+n+r).length)n+=r;else{for(;o=o.previousElementSibling;)o.nodeName.toLowerCase()===n&&i++;1!==i&&(n+=":["+i+"]")}if(e.unshift(n),!t.parentNode)return"";t=t.parentNode}}catch(t){console.warn(t)}return e.join(" > ").replace("html > body > ","> ")},e}(Xn)};!function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(i=o.invoke).call.apply(i,[t,e].concat(n));var i}var e=!1,n=[],r=Date.now();if(!self.seed||!(e=!!self.seed.initialized)){!e&&self.seed&&(self.seed.length&&(n=self.seed.slice()),self.seed.start&&(r=self.seed.start));var o=new Vn({queue:n,start:r});J(tr,function(t,e){o.use(e)}),o.VERSION=Gn,o.initialize(),G(t,self.seed||{},o),self.seed=t}}()}();
